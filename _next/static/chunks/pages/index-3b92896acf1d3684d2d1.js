(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8050:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return X}});var o=e(1508),r=e(9008),i=e(7294),a=e(9163),c=a.ZP.div.withConfig({displayName:"board__Board",componentId:"sc-1h6d7jo-0"})(["position:relative;top:0;left:6px;width:470px;height:470px;margin:10px 0;background-color:grey;border:inset 10px;"]),u=a.ZP.div.withConfig({displayName:"board__BoardHeader",componentId:"sc-1h6d7jo-1"})(["position:relative;top:0;left:6px;width:470px;height:90px;margin:10px 0;overflow:hidden;background-color:grey;border:inset 10px;"]),s=a.ZP.div.withConfig({displayName:"board__BoardFrame",componentId:"sc-1h6d7jo-2"})(["width:490px;height:600px;background-color:#d7d2d8;border:outset 6px;"]),l=a.ZP.div.withConfig({displayName:"board__Block",componentId:"sc-1h6d7jo-3"})(["float:left;width:50px;height:50px;background-image:url(icons.png);background-repeat:no-repeat;background-position:","px -4px;background-size:650px 55px;border:1px solid;"],(function(n){return 45-45*n.number}));l.defaultProps={number:0};var d=(0,a.ZP)(l).withConfig({displayName:"board__PushedBlock",componentId:"sc-1h6d7jo-4"})(["background-color:white;border-color:black;"]),f=(0,a.ZP)(l).withConfig({displayName:"board__UnPushedBlock",componentId:"sc-1h6d7jo-5"})(["cursor:pointer;border-color:white;:hover{border-bottom-color:transparent;transform:translateY(0.1875em);}"]),h=(0,a.ZP)(l).withConfig({displayName:"board__BomBlock",componentId:"sc-1h6d7jo-6"})(["background-color:red;background-position:-460px -4px;"]),p=(0,a.ZP)(f).withConfig({displayName:"board__FlagBlock",componentId:"sc-1h6d7jo-7"})(["background-position:-415px -4px;"]),x=(0,a.ZP)(f).withConfig({displayName:"board__HatenaBlock",componentId:"sc-1h6d7jo-8"})(["background-position:-370px -4px;"]),m=a.ZP.div.withConfig({displayName:"board__FlagNum",componentId:"sc-1h6d7jo-9"})(["float:left;width:100px;height:55px;margin-top:10px;margin-right:60px;margin-left:30px;font-family:monospace;font-size:46px;color:red;text-align:center;vertical-align:middle;background-color:black;"]),g=(0,a.ZP)(f).withConfig({displayName:"board__FaceIcon",componentId:"sc-1h6d7jo-10"})(["float:left;margin-top:12px;margin-right:20px;margin-bottom:0;margin-left:15px;background-position:"," -4px;background-size:605px 50px;border:outset 4px;"],(function(n){return n.number})),y=a.ZP.div.withConfig({displayName:"board__TimerNum",componentId:"sc-1h6d7jo-11"})(["float:left;width:100px;height:55px;margin-top:10px;margin-left:50px;font-family:monospace;font-size:46px;color:red;text-align:center;vertical-align:middle;background-color:black;"]),b=e(5893),v=function(n){var t=n.states,e=n.vars,o=n.funs;return(0,b.jsxs)(u,{children:[(0,b.jsx)(m,{children:"000".concat(e.boms.length-t.flgPosition.length).slice(-3)}),(0,b.jsx)(g,{number:w(t.gameState),onClick:function(){return o.refreshState()},children:(0,b.jsx)("a",{})}),(0,b.jsx)(y,{children:"000".concat(t.count).slice(-3)})]})},w=function(n){return 0===n||-1===n?11.6:1===n?12.55:13.5},k=function(n){var t=n.states,e=n.vars,o=n.funs,r=t.gameState,i=t.flgPosition,a=[e.boms,e.num,e.x,e.y],c=a[0],u=a[1],s=a[2],l=a[3],m=[o.onClick,o.onContextMenu],g=m[0],y=m[1],v=[0,-1].includes(r),w=function(){return-1===u?(0,b.jsx)(h,{number:0}):99===u?(0,b.jsx)(p,{onContextMenu:function(){return v&&y(s,l)},number:0}):100===u?(0,b.jsx)(x,{onContextMenu:function(){return v&&i.length<c.length&&y(s,l)},number:0}):(0,b.jsx)(d,{number:u})};return 9===e.num?(0,b.jsx)(f,{onClick:function(){return v&&g(s,l)},onContextMenu:function(){return v&&i.length<c.length&&y(s,l)},number:0}):(0,b.jsx)(w,{})},P=a.ZP.div.withConfig({displayName:"page__Container",componentId:"sc-1qm7lto-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;min-height:100vh;padding:0 0.5rem;"]),N=a.ZP.main.withConfig({displayName:"page__Main",componentId:"sc-1qm7lto-1"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;padding:5rem 0;"]),_=(a.ZP.footer.withConfig({displayName:"page__Footer",componentId:"sc-1qm7lto-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100px;border-top:1px solid #eaeaea;a{display:flex;flex-grow:1;align-items:center;justify-content:center;}"]),a.ZP.span.withConfig({displayName:"page__Logo",componentId:"sc-1qm7lto-3"})(["height:1em;margin-left:0.5rem;"]),function(n,t){return n.x===t.x&&n.y===t.y}),j=function(n,t){var e=!1;return t.forEach((function(t){e=e||_(t,n)})),e},C=function(n){var t=function(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n)+n)},e=[];return(0,o.Z)(Array(n)).map((function(n,t){return t})).forEach((function(){for(var n={x:t(0,8),y:t(0,8)},o=j(n,e);o;)n={x:t(0,8),y:t(0,8)},o=j(n,e);e.push(n)})),e},Z=function(n,t,e){var o=0;return e.forEach((function(e){return Math.abs(e.x-n)in[0,1]&&Math.abs(t-e.y)in[0,1]&&o++})),o},I=0,B=-1,S=[],E=[[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9]],M=e(8216),A=e(5997),O=e(2809);function F(n,t){var e="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"===typeof n)return q(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return q(n,t)}(n))||t&&n&&"number"===typeof n.length){e&&(n=e);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,i=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw i}}}}function q(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}var z=function(){function n(t,e,o){var r=this;(0,M.Z)(this,n),(0,O.Z)(this,"reachedPositions",void 0),(0,O.Z)(this,"newPositions",void 0),(0,O.Z)(this,"pushedBlockNum",void 0),(0,O.Z)(this,"boms",void 0),(0,O.Z)(this,"board",void 0),(0,O.Z)(this,"updateNewPosition",(function(n,t){var e=T(n),o=r.checkDoPush(n,t),i=R(e,o),a=D(e,o);i&&(r.pushedBlockNum++,r.newPositions.push(n)),a||(r.pushedBlockNum++,r.newPositions.push(n),r.updateNewPosition({x:n.x,y:n.y+1,value:Z(n.x,n.y+1,r.boms)},t),r.updateNewPosition({x:n.x,y:n.y-1,value:Z(n.x,n.y-1,r.boms)},t),r.updateNewPosition({x:n.x+1,y:n.y,value:Z(n.x+1,n.y,r.boms)},t),r.updateNewPosition({x:n.x-1,y:n.y,value:Z(n.x-1,n.y,r.boms)},t),r.updateNewPosition({x:n.x+1,y:n.y+1,value:Z(n.x+1,n.y+1,r.boms)},t),r.updateNewPosition({x:n.x-1,y:n.y+1,value:Z(n.x-1,n.y+1,r.boms)},t),r.updateNewPosition({x:n.x+1,y:n.y-1,value:Z(n.x+1,n.y-1,r.boms)},t),r.updateNewPosition({x:n.x-1,y:n.y-1,value:Z(n.x-1,n.y-1,r.boms)},t))})),(0,O.Z)(this,"makeNewBoard",(function(n,t,e){0<n&&n<9?(r.newPositions=[{x:t,y:e,value:n}],r.pushedBlockNum++):(r.newPositions=[],r.reachedPositions=[],r.updateNewPosition({x:t,y:e,value:n},r.board))})),(0,O.Z)(this,"checkDoPush",(function(n,t){var e=J(n,t),o=r.checkReached(n);return e&&!o})),this.reachedPositions=[],this.newPositions=[],this.pushedBlockNum=t,this.boms=o,this.board=e}return(0,A.Z)(n,[{key:"getNewPositions",get:function(){return this.newPositions}},{key:"checkReached",value:function(n){var t,e=!1,o=F(this.reachedPositions);try{for(o.s();!(t=o.n()).done;){var r=t.value;_(r,n)&&(e=!0)}}catch(i){o.e(i)}finally{o.f()}return!e&&this.reachedPositions.push({x:n.x,y:n.y}),e}}]),n}(),J=function(n,t){var e=function(n){return n.x in[0,1,2,3,4,5,6,7,8]&&n.y in[0,1,2,3,4,5,6,7,8]}(n),o=!0;return e&&(o=9===t[n.y][n.x]),e&&o},T=function(n){return 0!==n.value},R=function(n,t){return n&&t},D=function(n,t){return!t||n},H=C(10),U=0,X=function(){"undefined"!==typeof document&&(document.oncontextmenu=function(){return!1});var n=function(){a(B),d(E),p(S),g(I),U=0,H=C(10),M()},t=(0,i.useState)(B),e=t[0],a=t[1],u=(0,i.useState)(E),l=u[0],d=u[1],f=(0,i.useState)(S),h=f[0],p=f[1],x=(0,i.useState)(I),m=x[0],g=x[1],y={gameState:e,board:l,flgPosition:h,count:m},w=(0,i.useRef)(null),j=(0,i.useCallback)((function(){null===w.current&&(w.current=window.setInterval((function(){g((function(n){return n+1}))}),1e3))}),[]),M=(0,i.useCallback)((function(){null!==w.current&&(clearInterval(w.current),w.current=null)}),[]),A=function(){a(1),M()},O=function(){-1===e&&(a(0),j())},F=function(n,t){O();var e=function(n){var t=(0,o.Z)(h),e=0,r=0,i=!1;return t.forEach((function(t){_(t,n)&&(r=e,i=!0),e+=1})),i&&t.splice(r,1),t},r=JSON.parse(JSON.stringify(l)),i={x:n,y:t},c=99===l[t][n],u=100===l[t][n],s=[];c?(r[t][n]=9,s=e(i)):u?(r[t][n]=99,s=[].concat((0,o.Z)(h),[i])):(r[t][n]=100,s=e(i)),!function(n,t){var e=!0;return n.length===t.length&&(n.forEach((function(n){var o=!1;t.forEach((function(t){o=o||_(n,t)})),e=o&&e})),e)}(s,H)?a(0):A(),p(s),d(r)},q=function(n,t){t.forEach((function(t){n[t.y][t.x]=t.value})),d(n)},J=function(n,t){O();var e=!1;H.forEach((function(o){return e=e||o.x===n&&o.y===t}));var o=JSON.parse(JSON.stringify(l));if(e){var r=[];return H.forEach((function(n){r.push({x:n.x,y:n.y,value:-1})})),a(99),M(),void q(o,r)}var i=Z(n,t,H),c=new z(U,l,H);c.makeNewBoard(i,n,t);var u=c.getNewPositions;U=c.pushedBlockNum,function(n){if(U===Math.pow(l.length,2)-H.length){A();var t=[];H.forEach((function(e){n.push({x:e.x,y:e.y,value:99}),t.push({x:e.x,y:e.y})})),p(t)}}(u),q(o,u)},T=function(){return(0,b.jsx)(c,{children:l.map((function(n,t){return n.map((function(n,e){return(0,b.jsx)(k,{states:y,vars:{x:e,y:t,num:n,boms:H},funs:{onClick:J,onContextMenu:F}},"".concat(e,"-").concat(t))}))}))})},R=function(){return(0,b.jsx)(v,{states:y,vars:{boms:H},funs:{refreshState:n}})};return(0,b.jsxs)(P,{children:[(0,b.jsxs)(r.default,{children:[(0,b.jsx)("title",{children:"Create Next App"}),(0,b.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,b.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,b.jsx)(N,{children:(0,b.jsxs)(s,{children:[(0,b.jsx)(R,{}),(0,b.jsx)(T,{})]})})]})}},5301:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(8050)}])}},function(n){n.O(0,[65,774,888,179],(function(){return t=5301,n(n.s=t);var t}));var t=n.O();_N_E=t}]);