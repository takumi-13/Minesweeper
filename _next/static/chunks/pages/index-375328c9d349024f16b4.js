(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4759:function(n,t,o){"use strict";o.r(t),o.d(t,{default:function(){return R}});var e=o(1508),r=o(9008),i=o(7294),a=o(9163),c=(a.ZP.div.withConfig({displayName:"board__Board",componentId:"sc-1h6d7jo-0"})(["position:relative;top:0;left:6px;width:470px;height:470px;margin:10px 0;background-color:grey;border:inset 10px;"]),a.ZP.div.withConfig({displayName:"board__BoardHeader",componentId:"sc-1h6d7jo-1"})(["position:relative;top:0;left:6px;width:470px;height:90px;margin:10px 0;overflow:hidden;background-color:grey;border:inset 10px;"])),u=a.ZP.div.withConfig({displayName:"board__BoardFrame",componentId:"sc-1h6d7jo-2"})(["width:490px;height:600px;background-color:#d7d2d8;border:outset 6px;"]),l=a.ZP.div.withConfig({displayName:"board__Block",componentId:"sc-1h6d7jo-3"})(["float:left;width:50px;height:50px;background-image:url(icons.png);background-repeat:no-repeat;background-position:","px -4px;background-size:650px 55px;border:1px solid;"],(function(n){return 45-45*n.number}));l.defaultProps={number:0};var d=(0,a.ZP)(l).withConfig({displayName:"board__PushedBlock",componentId:"sc-1h6d7jo-4"})(["background-color:white;border-color:black;"]),s=(0,a.ZP)(l).withConfig({displayName:"board__UnPushedBlock",componentId:"sc-1h6d7jo-5"})(["cursor:pointer;border-color:white;:hover{border-bottom-color:transparent;transform:translateY(0.1875em);}"]),p=(0,a.ZP)(l).withConfig({displayName:"board__BomBlock",componentId:"sc-1h6d7jo-6"})(["background-color:red;background-position:-460px -4px;"]),f=(0,a.ZP)(s).withConfig({displayName:"board__FlagBlock",componentId:"sc-1h6d7jo-7"})(["background-position:-415px -4px;"]),m=(0,a.ZP)(s).withConfig({displayName:"board__HatenaBlock",componentId:"sc-1h6d7jo-8"})(["background-position:-370px -4px;"]),g=a.ZP.div.withConfig({displayName:"board__FlagNum",componentId:"sc-1h6d7jo-9"})(["float:left;width:100px;height:55px;margin-top:10px;margin-right:60px;margin-left:30px;font-family:monospace;font-size:46px;color:red;text-align:center;vertical-align:middle;background-color:black;"]),x=(0,a.ZP)(s).withConfig({displayName:"board__FaceIcon",componentId:"sc-1h6d7jo-10"})(["float:left;margin-top:12px;margin-right:20px;margin-bottom:0;margin-left:15px;background-position:"," -4px;background-size:605px 50px;border:outset 4px;"],(function(n){return n.number})),h=a.ZP.div.withConfig({displayName:"board__TimerNum",componentId:"sc-1h6d7jo-11"})(["float:left;width:100px;height:55px;margin-top:10px;margin-left:50px;font-family:monospace;font-size:46px;color:red;text-align:center;vertical-align:middle;background-color:black;"]),b=o(5893),y=function(n){var t=n.states,o=n.vars,e=n.funs;return(0,b.jsxs)(c,{children:[(0,b.jsx)(g,{children:"000".concat(o.boms.length-t.flgPosition.length).slice(-3)}),(0,b.jsx)(x,{number:v(t.gameState),onClick:function(){return e.refreshState()},children:(0,b.jsx)("a",{})}),(0,b.jsx)(h,{children:"000".concat(t.count).slice(-3)})]})},v=function(n){return 0===n||-1===n?11.6:1===n?12.55:13.5},_=a.ZP.div.withConfig({displayName:"boardStyle__Board",componentId:"sc-1rbrc4z-0"})(["position:relative;top:0;left:6px;width:470px;height:470px;margin:10px 0;background-color:grey;border:inset 10px;"]),w=(a.ZP.div.withConfig({displayName:"boardStyle__BoardHead",componentId:"sc-1rbrc4z-1"})(["position:relative;top:0;left:6px;width:470px;height:90px;margin:10px 0;overflow:hidden;background-color:grey;border:inset 10px;"]),a.ZP.div.withConfig({displayName:"boardStyle__BoardFrame",componentId:"sc-1rbrc4z-2"})(["width:490px;height:600px;background-color:#d7d2d8;border:outset 6px;"]),a.ZP.div.withConfig({displayName:"boardStyle__Block",componentId:"sc-1rbrc4z-3"})(["float:left;width:50px;height:50px;background-image:url(icons.png);background-repeat:no-repeat;background-position:","px -4px;background-size:650px 55px;border:1px solid;"],(function(n){return 45-45*n.number})));w.defaultProps={number:0};(0,a.ZP)(w).withConfig({displayName:"boardStyle__PushedBlock",componentId:"sc-1rbrc4z-4"})(["background-color:white;border-color:black;"]);var k=(0,a.ZP)(w).withConfig({displayName:"boardStyle__UnPushedBlock",componentId:"sc-1rbrc4z-5"})(["cursor:pointer;border-color:white;:hover{border-bottom-color:transparent;transform:translateY(0.1875em);}"]),C=((0,a.ZP)(w).withConfig({displayName:"boardStyle__BomBlock",componentId:"sc-1rbrc4z-6"})(["background-color:red;background-position:-460px -4px;"]),(0,a.ZP)(k).withConfig({displayName:"boardStyle__FlagBlock",componentId:"sc-1rbrc4z-7"})(["background-position:-415px -4px;"]),(0,a.ZP)(k).withConfig({displayName:"boardStyle__HatenaBlock",componentId:"sc-1rbrc4z-8"})(["background-position:-370px -4px;"]),a.ZP.div.withConfig({displayName:"boardStyle__FlagNum",componentId:"sc-1rbrc4z-9"})(["float:left;width:100px;height:55px;margin-top:10px;margin-right:60px;margin-left:30px;font-family:monospace;font-size:46px;color:red;text-align:center;vertical-align:middle;background-color:black;"]),(0,a.ZP)(k).withConfig({displayName:"boardStyle__FaceIcon",componentId:"sc-1rbrc4z-10"})(["float:left;margin-top:12px;margin-right:20px;margin-bottom:0;margin-left:15px;background-position:"," -4px;background-size:605px 50px;border:outset 4px;"],(function(n){return n.number})),a.ZP.div.withConfig({displayName:"boardStyle__TimerNum",componentId:"sc-1rbrc4z-11"})(["float:left;width:100px;height:55px;margin-top:10px;margin-left:50px;font-family:monospace;font-size:46px;color:red;text-align:center;vertical-align:middle;background-color:black;"]),function(n){var t=n.states,o=n.vars,e=n.funs;return(0,b.jsx)(_,{children:t.board.map((function(n,r){return n.map((function(n,i){return(0,b.jsx)(N,{states:t,vars:{x:i,y:r,boms:o.boms,num:n},funs:e},"".concat(i,"-").concat(r))}))}))})}),N=function(n){var t=n.states,o=n.vars,e=n.funs,r=t.gameState,i=t.flgPosition,a=[o.boms,o.num,o.x,o.y],c=a[0],u=a[1],l=a[2],g=a[3],x=[e.onClick,e.onContextMenu],h=x[0],y=x[1],v=[0,-1].includes(r),_=function(){return-1===u?(0,b.jsx)(p,{number:0}):99===u?(0,b.jsx)(f,{onContextMenu:function(){return v&&y(l,g)},number:0}):100===u?(0,b.jsx)(m,{onContextMenu:function(){return v&&i.length<c.length&&y(l,g)},number:0}):(0,b.jsx)(d,{number:u})};return 9===o.num?(0,b.jsx)(s,{onClick:function(){return v&&h(l,g)},onContextMenu:function(){return v&&i.length<c.length&&y(l,g)},number:0}):(0,b.jsx)(_,{})},j=a.ZP.div.withConfig({displayName:"page__Container",componentId:"sc-1qm7lto-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;min-height:100vh;padding:0 0.5rem;"]),P=a.ZP.main.withConfig({displayName:"page__Main",componentId:"sc-1qm7lto-1"})(["display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;padding:5rem 0;"]),I=(a.ZP.footer.withConfig({displayName:"page__Footer",componentId:"sc-1qm7lto-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100px;border-top:1px solid #eaeaea;a{display:flex;flex-grow:1;align-items:center;justify-content:center;}"]),a.ZP.span.withConfig({displayName:"page__Logo",componentId:"sc-1qm7lto-3"})(["height:1em;margin-left:0.5rem;"]),function(n){for(var t=[],o=function(){var n={x:Z(0,8),y:Z(0,8)};!t.some((function(t){return t.x===n.x&&t.y===n.y}))&&t.push(n)};t.length<n;)o();return t}),Z=function(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n)+n)},S=function(n,t,o){var e=0;return o.forEach((function(o){return[0,1].includes(Math.abs(o.x-n))&&[0,1].includes(Math.abs(t-o.y))&&e++})),e},z=0,B=-1,M=[],F=[[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9]],O=function(n,t){return n.x===t.x&&n.y===t.y};function E(n,t){var o="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!o){if(Array.isArray(n)||(o=function(n,t){if(!n)return;if("string"===typeof n)return A(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);"Object"===o&&n.constructor&&(o=n.constructor.name);if("Map"===o||"Set"===o)return Array.from(n);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return A(n,t)}(n))||t&&n&&"number"===typeof n.length){o&&(n=o);var e=0,r=function(){};return{s:r,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){o=o.call(n)},n:function(){var n=o.next();return a=n.done,n},e:function(n){c=!0,i=n},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw i}}}}function A(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,e=new Array(t);o<t;o++)e[o]=n[o];return e}var J=[],T=function n(t,o,e,r){var i=X(t),a=H(t,o,r),c=Y(i,a);if(a&&J.push(t),!c){var u,l=[-1,0,1],d=E([-1,0,1].map((function(n){return l.map((function(t){return[n,t]}))})).reduce((function(n,t){var o=t.filter((function(n){return"[0,0]"!==JSON.stringify(n)}));return n.concat(o)}),[]));try{for(d.s();!(u=d.n()).done;){var s=u.value,p=t.x+s[0],f=t.y+s[1];n({x:p,y:f,value:S(p,f,e)},o,e,r)}}catch(m){d.e(m)}finally{d.f()}}},q=function(n,t,o,e,r){return 0<n&&n<9?[{x:t,y:o,value:n}]:(T({x:t,y:o,value:n},e,r,[]),J)},H=function(n,t,o){var e=U(n,t),r=function(n,t){var o,e=!1,r=E(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;O(i,n)&&(e=!0)}}catch(a){r.e(a)}finally{r.f()}return!e&&t.push({x:n.x,y:n.y}),e}(n,o);return e&&!r},U=function(n,t){var o=function(n){return[n.x,n.y].every((function(n){return 0<=n&&n<=8}))}(n),e=!0;return o&&(e=9===t[n.y][n.x]),o&&e},X=function(n){return 0!==n.value},Y=function(n,t){return!t||n},G=I(10),L=0,R=function(){"undefined"!==typeof document&&(document.oncontextmenu=function(){return!1});var n=(0,i.useState)(B),t=n[0],o=n[1],a=(0,i.useState)(F),c=a[0],l=a[1],d=(0,i.useState)(M),s=d[0],p=d[1],f=(0,i.useState)(z),m=f[0],g=f[1],x={gameState:t,board:c,flgPosition:s,count:m},h=(0,i.useRef)(null),v=(0,i.useCallback)((function(){null===h.current&&(h.current=window.setInterval((function(){g((function(n){return n+1}))}),1e3))}),[]),_=(0,i.useCallback)((function(){null!==h.current&&(clearInterval(h.current),h.current=null)}),[]),w=function(){o(1),_()},k=function(){-1===t&&(o(0),v())},N=function(n,t){t.forEach((function(t){n[t.y][t.x]=t.value})),l(n)};return(0,b.jsxs)(j,{children:[(0,b.jsxs)(r.default,{children:[(0,b.jsx)("title",{children:"Create Next App"}),(0,b.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,b.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,b.jsx)(P,{children:(0,b.jsxs)(u,{children:[(0,b.jsx)(y,{states:x,vars:{boms:G},funs:{refreshState:function(){o(B),l(F),p(M),g(z),L=0,G=I(10),_()}}}),(0,b.jsx)(C,{states:x,vars:{boms:G},funs:{onClick:function(n,t){k();var r=G.some((function(o){return O({x:n,y:t},o)})),i=JSON.parse(JSON.stringify(c));if(r){var a=G.map((function(n){return{x:n.x,y:n.y,value:-1}}));return o(99),_(),void N(i,a)}var u=S(n,t,G),l=function(n,t,o,e,r,i){return J=[],q(e,r,i,t,o)}(0,c,G,u,n,t);L+=l.length,N(i,function(n){if(L!==Math.pow(c.length,2)-G.length)return n;w();var t=G.map((function(n){return{x:n.x,y:n.y,value:99}})),o=G.map((function(n){return{x:n.x,y:n.y}}));return p(o),[].concat((0,e.Z)(t),(0,e.Z)(n))}(l))},onContextMenu:function(n,t){k();var r,i,a=function(n){return(0,e.Z)(s).filter((function(t){return!O(t,n)}))},u=JSON.parse(JSON.stringify(c)),d={x:n,y:t},f=99===c[t][n],m=100===c[t][n],g=[];f?(u[t][n]=9,g=a(d)):m?(u[t][n]=99,g=[].concat((0,e.Z)(s),[d])):(u[t][n]=100,g=a(d)),i=G,(r=g).length===i.length&&r.some((function(n){return i.some((function(t){return O(n,t)}))}))?w():o(0),p(g),l(u)}}})]})})]})}},5301:function(n,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(4759)}])}},function(n){n.O(0,[232,774,888,179],(function(){return t=5301,n(n.s=t);var t}));var t=n.O();_N_E=t}]);